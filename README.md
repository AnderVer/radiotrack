# ğŸ“» RadioTrack â€” Ğ¡ĞµÑ€Ğ²Ğ¸Ñ Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ñ Ñ‚Ñ€ĞµĞºĞ¾Ğ² Ğ² Ñ€Ğ°Ğ´Ğ¸Ğ¾ÑÑ„Ğ¸Ñ€Ğµ

[![Ruby](https://img.shields.io/badge/Ruby-3.3.0-red.svg)](https://www.ruby-lang.org/)
[![Rails](https://img.shields.io/badge/Rails-8.0-blue.svg)](https://rubyonrails.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-blue.svg)](https://www.postgresql.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

Ğ¡ĞµÑ€Ğ²Ğ¸Ñ Ğ´Ğ»Ñ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ² Ñ€Ğ°Ğ´Ğ¸Ğ¾ĞºĞ¾Ğ½ĞºÑƒÑ€ÑĞ¾Ğ² â€” Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ Ñ‚Ñ€ĞµĞº Ğ² ÑÑ„Ğ¸Ñ€Ğµ Ñ€Ğ°Ğ´Ğ¸Ğ¾ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ğ¸ Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸.

## ğŸ¯ Ğ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ

**Ğ¦ĞµĞ»ĞµĞ²Ğ°Ñ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ:** Ğ¡Ğ»ÑƒÑˆĞ°Ñ‚ĞµĞ»Ğ¸ Ñ€Ğ°Ğ´Ğ¸Ğ¾ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ğ¹, ÑƒÑ‡Ğ°ÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ Ğ² ÑÑ„Ğ¸Ñ€Ğ½Ñ‹Ñ… ĞºĞ¾Ğ½ĞºÑƒÑ€ÑĞ°Ñ… (ÑƒĞ³Ğ°Ğ´Ğ°Ñ‚ÑŒ Ñ‚Ñ€ĞµĞº Ğ¿ĞµÑ€ĞµĞ´ ĞºĞ¾Ğ½ĞºÑƒÑ€ÑĞ¾Ğ¼).

**ĞŸĞ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ‹:** Web + PWA + Telegram Mini App (ĞµĞ´Ğ¸Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ´)

## âœ¨ Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸

### Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹

| Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ | Guest | Auth | Paid |
|---------|-------|------|------|
| Ğ—Ğ°ĞºĞ»Ğ°Ğ´ĞºĞ¸ ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ğ¹ | 3 | âˆ | âˆ |
| ĞŸĞ»ĞµĞ¹Ğ»Ğ¸ÑÑ‚Ñ‹ | 3 Ã— 10 Ñ‚Ñ€ĞµĞºĞ¾Ğ² | 10 Ã— 50 | 50 Ã— 100 |
| Trial "Ğ“Ğ´Ğµ Ğ¸Ğ³Ñ€Ğ°ĞµÑ‚" | 3 Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºĞ¸ | Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¾ | Ğ‘ĞµĞ·Ğ»Ğ¸Ğ¼Ğ¸Ñ‚ |
| ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ Ñ‚Ñ€ĞµĞº | âŒ | âŒ | âœ… |
| ĞŸĞ»ĞµĞ¹Ğ»Ğ¸ÑÑ‚ ÑÑ„Ğ¸Ñ€Ğ° | âŒ | âŒ | âœ… |
| ĞŸÑ€Ğ¾Ğ³Ğ½Ğ¾Ğ· "Ğ‘ÑƒĞ´ĞµÑ‚ ÑĞºĞ¾Ñ€Ğ¾" | âŒ | âŒ | âœ… |
| Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ñ‚Ñ€ĞµĞº | âŒ | âŒ | âœ… |

### Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ñ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°

- **Real-time Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ** â€” Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 5-10 ÑĞµĞºÑƒĞ½Ğ´
- **Ğ’Ğ½ĞµÑˆĞ½ĞµĞµ Ñ€Ğ°ÑĞ¿Ğ¾Ğ·Ğ½Ğ°Ğ²Ğ°Ğ½Ğ¸Ğµ** â€” AudD.io / ACRCloud Ğ´Ğ»Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸
- **Hotwire/Turbo** â€” SPA-Ğ¾Ñ‰ÑƒÑ‰ĞµĞ½Ğ¸Ğµ Ğ±ĞµĞ· ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾Ğ³Ğ¾ JavaScript
- **Docker** â€” Ğ¿Ñ€Ğ¾ÑÑ‚Ğ°Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¸ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ

## ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

### Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

- Docker Desktop
- Git
- GitHub CLI (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾, Ğ´Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ°Ğ¼Ğ¸)

### Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°

```bash
# ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ
git clone https://github.com/AnderVer/radiotrack.git
cd radiotrack

# ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ .env
cp .env.example .env

# Ğ—Ğ°Ğ¿ÑƒÑĞº Docker
docker compose up -d

# Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ‘Ğ”
docker compose exec web bin/rails db:create db:migrate db:seed

# ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ http://localhost:3000
```

### Ğ—Ğ°Ğ¿ÑƒÑĞº Solid Queue (Ñ„Ğ¾Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸)

```bash
# Ğ’ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾Ğ¼ Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»Ğµ
docker compose exec web bin/rails solid_queue:start
```

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ:** Solid Queue Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ±ĞµĞ· Redis â€” Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ PostgreSQL.

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

```bash
# ĞšĞ¾Ğ½ÑĞ¾Ğ»ÑŒ Rails
docker compose exec web bin/rails console

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ğ¹
Station.count  # Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ 10

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Detection
Detection.first

# Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ‚ĞµÑÑ‚Ğ¾Ğ² (ĞµÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ)
docker compose exec web bin/rails test
```

### Ğ›Ğ¾Ğ³Ğ¸

```bash
# Ğ›Ğ¾Ğ³Ğ¸ Ğ²ĞµĞ±-ÑĞµÑ€Ğ²ĞµÑ€Ğ°
docker compose logs -f web

# Ğ›Ğ¾Ğ³Ğ¸ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
docker compose logs -f db

# Ğ›Ğ¾Ğ³Ğ¸ Solid Queue (ĞµÑĞ»Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½)
docker compose exec web tail -f log/development.log
```

## ğŸ“¡ Ğ Ğ°Ğ´Ğ¸Ğ¾ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ğ¸ (MVP)

10 ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ğ¹ Ğ´Ğ»Ñ MVP:

- ğŸ‡·ğŸ‡º ĞĞ²Ñ‚Ğ¾Ñ€Ğ°Ğ´Ğ¸Ğ¾
- ğŸ‡·ğŸ‡º Ğ•Ğ²Ñ€Ğ¾Ğ¿Ğ° ĞŸĞ»ÑÑ
- ğŸ‡·ğŸ‡º DFM
- ğŸ‡·ğŸ‡º Love Radio
- ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¾Ğµ Ğ Ğ°Ğ´Ğ¸Ğ¾
- ğŸ‡·ğŸ‡º Energy
- ğŸ‡·ğŸ‡º Ğ¥Ğ¸Ñ‚ FM
- ğŸ‡·ğŸ‡º ĞĞĞ¨Ğ• Ğ Ğ°Ğ´Ğ¸Ğ¾
- ğŸ‡·ğŸ‡º Ğ Ğ°Ğ´Ğ¸Ğ¾ Ğ ĞµĞºĞ¾Ñ€Ğ´
- ğŸ‡·ğŸ‡º Ğ®Ğ¼Ğ¾Ñ€ FM

## ğŸ— ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  RadioTrack MVP                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  Web/PWA  â†â†’  Telegram Mini App  â†â†’  Mobile (later)    â”‚
â”‚       â†“              â†“                    â†“             â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                      â”‚                                  â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚              â”‚  Rails 8 API   â”‚                         â”‚
â”‚              â”‚  + Hotwire     â”‚                         â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                      â”‚                                  â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚       â†“              â†“              â†“                   â”‚
â”‚  PostgreSQL    Solid Queue    Open Playlists           â”‚
â”‚   (data)       (background)   (Avtoradio, etc.)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ:** ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… "Ñ‡Ñ‚Ğ¾ Ğ¸Ğ³Ñ€Ğ°Ğ»Ğ¾" â€” **Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ğµ Ğ¿Ğ»ĞµĞ¹Ğ»Ğ¸ÑÑ‚Ñ‹ Ñ€Ğ°Ğ´Ğ¸Ğ¾ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ğ¹** (Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³ HTML). AudD/ACRCloud â€” Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ fallback.

## ğŸ“š API Endpoints

### Recognition
- `POST /api/recognition/callback` â€” webhook Ğ¾Ñ‚ AudD/ACRCloud

### Stations
- `GET /api/stations` â€” ÑĞ¿Ğ¸ÑĞ¾Ğº ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ğ¹
- `GET /api/stations/:id/last_track` â€” Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ Ñ‚Ñ€ĞµĞº (Paid)
- `GET /api/stations/:id/playlist?range=30m` â€” Ğ¿Ğ»ĞµĞ¹Ğ»Ğ¸ÑÑ‚ ÑÑ„Ğ¸Ñ€Ğ° (Paid)
- `POST /api/stations/:id/capture_now_playing` â€” Ğ·Ğ°Ñ…Ğ²Ğ°Ñ‚ Ñ‚Ñ€ĞµĞºĞ° (Paid)

### Tracks
- `GET /api/tracks/:id/where_now` â€” Ğ³Ğ´Ğµ Ğ¸Ğ³Ñ€Ğ°ĞµÑ‚ (trial limited)
- `GET /api/tracks/:id/where_soon?window=30m` â€” Ğ¿Ñ€Ğ¾Ğ³Ğ½Ğ¾Ğ· (Paid)

### User
- `GET/POST /api/user/bookmarks` â€” Ğ·Ğ°ĞºĞ»Ğ°Ğ´ĞºĞ¸
- `GET /api/user/subscription_status` â€” ÑÑ‚Ğ°Ñ‚ÑƒÑ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸
- `CRUD /api/playlists` â€” Ğ¿Ğ»ĞµĞ¹Ğ»Ğ¸ÑÑ‚Ñ‹

## ğŸ’° ĞœĞ¾Ğ½ĞµÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

| ĞŸĞ»Ğ°Ğ½ | Ğ¦ĞµĞ½Ğ° | Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ |
|------|------|-------------|
| **Guest** | Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾ | Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ñ‹ |
| **Auth** | Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾ | Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ‹Ğµ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ñ‹ |
| **Paid** | 150â‚½/Ğ¼ĞµÑ Ğ¸Ğ»Ğ¸ 1500â‚½/Ğ³Ğ¾Ğ´ | ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ |

## ğŸ›  Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°

```bash
# Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ² Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
docker compose up -d
docker compose exec web bin/rails server -b 0.0.0.0

# ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸
docker compose exec web bin/rails db:migrate

# ĞšĞ¾Ğ½ÑĞ¾Ğ»ÑŒ Rails
docker compose exec web bin/rails console

# Ğ¢ĞµÑÑ‚Ñ‹
docker compose exec web bin/rails test

# Ğ›Ğ¾Ğ³Ğ¸
docker compose logs -f web
```

## ğŸ“¦ ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ

```env
# Database
DATABASE_URL=postgres://postgres:postgres@db:5432/radiotrack_development
SECRET_KEY_BASE=<generate-with-rails-secret>

# Recognition Service
RECOGNITION_PROVIDER=audd
AUDD_API_TOKEN=<audd-api-token>
RECOGNITION_CALLBACK_URL=https://your-domain.com/api/recognition/callback

# OAuth
VK_APP_ID=<vk-app-id>
VK_APP_SECRET=<vk-app-secret>
YANDEX_APP_ID=<yandex-app-id>
YANDEX_APP_SECRET=<yandex-app-secret>

# Telegram
TELEGRAM_BOT_TOKEN=<telegram-bot-token>
```

## ğŸ“„ Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ

[MIT](LICENSE)

## ğŸ‘¥ ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°

- Solo Founder / Developer

## ğŸ“ ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹

- Website: [TBD]
- Telegram: [TBD]
- Email: [TBD]

---

<div align="center">

**RadioTrack** â€” Ğ£Ğ·Ğ½Ğ°Ğ¹ Ñ‚Ñ€ĞµĞº Ğ¸ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ğ°Ğ¹ Ğ¿Ñ€Ğ¸Ğ·! ğŸ†

[![Stars](https://img.shields.io/github/stars/YOUR_USERNAME/radiotrack?style=social)](https://github.com/YOUR_USERNAME/radiotrack/stargazers)
[![Forks](https://img.shields.io/github/forks/YOUR_USERNAME/radiotrack?style=social)](https://github.com/YOUR_USERNAME/radiotrack/network/members)

</div>
